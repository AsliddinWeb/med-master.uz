<!-- Medical Pagination Component -->
<div x-data="medicalPagination({
    currentPage: {{ page_obj.number|default:1 }},
    totalPages: {{ page_obj.paginator.num_pages|default:1 }},
    hasNext: {{ page_obj.has_next|yesno:'true,false' }},
    hasPrevious: {{ page_obj.has_previous|yesno:'true,false' }},
    nextPageNumber: {{ page_obj.next_page_number|default:'null' }},
    previousPageNumber: {{ page_obj.previous_page_number|default:'null' }},
    startIndex: {{ page_obj.start_index|default:0 }},
    endIndex: {{ page_obj.end_index|default:0 }},
    totalCount: {{ page_obj.paginator.count|default:0 }},
    perPage: {{ page_obj.paginator.per_page|default:10 }}
})"
     class="medical-pagination-container bg-gradient-to-r from-gray-50 to-cyan-50 rounded-2xl border border-cyan-100 shadow-lg p-6 mt-8"
     style="background-image: url('data:image/svg+xml,<svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"%2306b6d4\" fill-opacity=\"0.03\"><circle cx=\"40\" cy=\"40\" r=\"4\"/></g></g></svg>');">

    <!-- Medical Pagination Header -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6">
        <!-- Medical Stats Info -->
        <div class="flex items-center mb-4 sm:mb-0">
            <div class="w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center mr-3 medical-icon-pulse">
                <i class="fas fa-file-medical text-white text-lg"></i>
            </div>
            <div>
                <p class="text-sm font-medium text-gray-900">
                    <span class="font-bold text-teal-700" x-text="startIndex"></span>
                    -
                    <span class="font-bold text-teal-700" x-text="endIndex"></span>
                    dan
                    <span class="font-bold text-cyan-700" x-text="totalCount"></span>
                    ta natija
                </p>
                <p class="text-xs text-gray-600">
                    Sahifada <span class="font-semibold text-teal-600" x-text="perPage"></span> ta element
                </p>
            </div>
        </div>

        <!-- Medical Page Info -->
        <div class="flex items-center bg-white rounded-xl px-4 py-2 shadow-sm border border-teal-100">
            <i class="fas fa-heartbeat text-teal-500 mr-2 animate-pulse"></i>
            <span class="text-sm font-semibold text-gray-700">
                Sahifa
                <span class="text-teal-700" x-text="currentPage"></span>
                /
                <span class="text-cyan-700" x-text="totalPages"></span>
            </span>
        </div>
    </div>

    <!-- Medical Pagination Navigation -->
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0">

        <!-- Medical Previous/Next Buttons -->
        <div class="flex items-center space-x-3">
            <!-- First Page Button -->
            <button @click="goToPage(1)"
                    :disabled="currentPage === 1"
                    :class="currentPage === 1 ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 hover:shadow-lg'"
                    class="medical-nav-btn group flex items-center px-4 py-3 bg-white border-2 border-teal-200 rounded-xl font-semibold text-teal-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
                    title="Birinchi sahifa">
                <i class="fas fa-angle-double-left mr-2 group-hover:animate-pulse"></i>
                <span class="hidden sm:inline">Birinchi</span>
            </button>

            <!-- Previous Page Button -->
            <button @click="goToPage(currentPage - 1)"
                    :disabled="!hasPrevious"
                    :class="!hasPrevious ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 hover:shadow-lg'"
                    class="medical-nav-btn group flex items-center px-4 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 shadow-lg"
                    title="Oldingi sahifa">
                <i class="fas fa-stethoscope mr-2 group-hover:animate-pulse"></i>
                <span>Oldingi</span>
            </button>
        </div>

        <!-- Medical Page Numbers -->
        <div class="flex items-center justify-center">
            <div class="flex items-center space-x-2 bg-white rounded-xl p-2 shadow-inner border border-cyan-100">
                <template x-for="page in visiblePages" :key="page">
                    <button @click="goToPage(page)"
                            :class="page === currentPage ?
                                'bg-gradient-to-r from-teal-500 to-cyan-600 text-white shadow-lg transform scale-110 medical-active-pulse' :
                                'text-gray-700 hover:bg-teal-50 hover:text-teal-700 hover:scale-105'"
                            class="medical-page-btn w-12 h-12 rounded-xl font-bold transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 group"
                            :title="'Sahifa ' + page">
                        <span x-text="page" class="group-hover:animate-pulse"></span>
                        <template x-if="page === currentPage">
                            <div class="absolute inset-0 rounded-xl medical-heartbeat-ring"></div>
                        </template>
                    </button>
                </template>

                <!-- Medical Dots Indicator -->
                <template x-if="totalPages > 7 && currentPage < totalPages - 3">
                    <div class="flex items-center space-x-1 px-3">
                        <div class="w-2 h-2 bg-teal-400 rounded-full animate-pulse"></div>
                        <div class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
                        <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse" style="animation-delay: 0.4s;"></div>
                    </div>
                </template>
            </div>
        </div>

        <!-- Medical Next/Last Buttons -->
        <div class="flex items-center space-x-3">
            <!-- Next Page Button -->
            <button @click="goToPage(currentPage + 1)"
                    :disabled="!hasNext"
                    :class="!hasNext ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 hover:shadow-lg'"
                    class="medical-nav-btn group flex items-center px-4 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 shadow-lg"
                    title="Keyingi sahifa">
                <span>Keyingi</span>
                <i class="fas fa-user-md ml-2 group-hover:animate-pulse"></i>
            </button>

            <!-- Last Page Button -->
            <button @click="goToPage(totalPages)"
                    :disabled="currentPage === totalPages"
                    :class="currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 hover:shadow-lg'"
                    class="medical-nav-btn group flex items-center px-4 py-3 bg-white border-2 border-cyan-200 rounded-xl font-semibold text-cyan-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2"
                    title="Oxirgi sahifa">
                <span class="hidden sm:inline">Oxirgi</span>
                <i class="fas fa-angle-double-right ml-2 group-hover:animate-pulse"></i>
            </button>
        </div>
    </div>

    <!-- Medical Quick Jump Section -->
    <template x-if="totalPages > 10">
        <div class="mt-6 pt-6 border-t border-teal-100">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0">
                <!-- Medical Page Size Selector -->
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-list text-white text-sm"></i>
                    </div>
                    <label class="text-sm font-medium text-gray-700 mr-3">Sahifada:</label>
                    <select @change="changePerPage($event.target.value)"
                            class="medical-select bg-white border-2 border-indigo-200 rounded-lg px-3 py-2 text-sm font-semibold text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200">
                        <option value="10" :selected="perPage === 10">10 ta</option>
                        <option value="25" :selected="perPage === 25">25 ta</option>
                        <option value="50" :selected="perPage === 50">50 ta</option>
                        <option value="100" :selected="perPage === 100">100 ta</option>
                    </select>
                </div>

                <!-- Medical Quick Jump Input -->
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-paper-plane text-white text-sm"></i>
                    </div>
                    <label class="text-sm font-medium text-gray-700 mr-3">Sahifaga o'tish:</label>
                    <div class="flex items-center space-x-2">
                        <input type="number"
                               x-model="quickJumpPage"
                               :min="1"
                               :max="totalPages"
                               @keyup.enter="quickJump()"
                               class="medical-input w-20 px-3 py-2 border-2 border-purple-200 rounded-lg text-center font-bold text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"
                               placeholder="1">
                        <button @click="quickJump()"
                                class="medical-jump-btn px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg font-semibold hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 shadow-lg">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Medical Progress Bar -->
    <div class="mt-6">
        <div class="flex items-center justify-between mb-2">
            <span class="text-xs font-medium text-gray-600">Sahifa progressi</span>
            <span class="text-xs font-bold text-teal-600" x-text="Math.round((currentPage / totalPages) * 100) + '%'"></span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner">
            <div class="medical-progress-bar h-3 rounded-full transition-all duration-500 ease-out relative overflow-hidden"
                 :style="'width: ' + ((currentPage / totalPages) * 100) + '%'"
                 style="background: linear-gradient(135deg, #0d9488 0%, #06b6d4 50%, #3b82f6 100%);">
                <div class="absolute inset-0 medical-progress-shimmer"></div>
            </div>
        </div>
    </div>

    <!-- Medical Keyboard Shortcuts Info -->
    <div class="mt-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100">
        <div class="flex items-center text-xs text-blue-700">
            <i class="fas fa-keyboard mr-2"></i>
            <span class="font-medium">Klaviatura yorliqlar:</span>
            <div class="ml-3 space-x-3">
                <span class="bg-white px-2 py-1 rounded border">←</span>
                <span class="text-blue-600">Oldingi</span>
                <span class="bg-white px-2 py-1 rounded border">→</span>
                <span class="text-blue-600">Keyingi</span>
                <span class="bg-white px-2 py-1 rounded border">Home</span>
                <span class="text-blue-600">Birinchi</span>
                <span class="bg-white px-2 py-1 rounded border">End</span>
                <span class="text-blue-600">Oxirgi</span>
            </div>
        </div>
    </div>
</div>

